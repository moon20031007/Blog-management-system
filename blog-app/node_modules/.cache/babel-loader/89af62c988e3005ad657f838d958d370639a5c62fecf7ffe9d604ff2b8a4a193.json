{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'TestComponent',\n  data() {\n    var validatePass = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请再次输入密码'));\n      } else if (value !== this.accountForm.password) {\n        callback(new Error('两次输入密码不一致!'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      accountForm: {\n        id: '',\n        password: '',\n        check_password: '',\n        name: '',\n        sex: '',\n        date: '',\n        phone: '',\n        email: '',\n        address: ''\n      },\n      rules: {\n        id: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }],\n        check_password: [{\n          validator: validatePass,\n          trigger: 'blur'\n        }],\n        name: [{\n          required: true,\n          message: '请输入昵称',\n          trigger: 'blur'\n        }],\n        sex: [{\n          required: true,\n          message: '请选择性别',\n          trigger: 'change'\n        }],\n        date: [{\n          type: 'date',\n          required: true,\n          message: '请选择生日日期',\n          trigger: 'change'\n        }],\n        phone: [{\n          required: true,\n          message: '请输入电话号码',\n          trigger: 'blur'\n        }],\n        email: [{\n          required: true,\n          message: '请输入邮箱',\n          trigger: 'blur'\n        }],\n        address: [{\n          required: true,\n          message: '请输入地址',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          const form = {\n            username: this.accountForm.id,\n            password: this.accountForm.password,\n            nickname: this.accountForm.name,\n            gender: this.accountForm.sex,\n            birthday: this.accountForm.date,\n            phone: this.accountForm.phone,\n            address: this.accountForm.address,\n            email: this.accountForm.email\n          };\n          axios.post('http://localhost:7000/user/add', form).then(response => {\n            console.log(response.data);\n            this.$message({\n              message: '注册成功！',\n              type: 'success'\n            });\n            this.$router.push('/login');\n          }).catch(error => {\n            console.error('注册失败:', error);\n            this.$message.error('注册失败，请检查用户名和密码');\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","validatePass","rule","value","callback","Error","accountForm","password","id","check_password","sex","date","phone","email","address","rules","required","message","trigger","validator","type","methods","submitForm","formName","$refs","validate","valid","form","username","nickname","gender","birthday","post","then","response","console","log","$message","$router","push","catch","error"],"sources":["src/views/SignupView.vue"],"sourcesContent":["<template>\n    <div style=\"border: 1px solid #dcdfe6; padding: 20px; border-radius: 4px; width: 50%; margin: 5% auto 0;\">\n        <el-form :model=\"accountForm\" :rules=\"rules\" ref=\"accountForm\" label-width=\"100px\">\n            <el-button type=\"primary\"><router-link to=\"/\">首页</router-link></el-button>\n            <el-form-item label=\"用户名\" prop=\"id\">\n                <el-input v-model=\"accountForm.id\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"密码\" prop=\"password\">\n                <el-input type=\"password\" v-model=\"accountForm.password\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"确认密码\" prop=\"check_password\">\n                <el-input type=\"password\" v-model=\"accountForm.check_password\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"昵称\" prop=\"name\">\n                <el-input v-model=\"accountForm.name\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"性别\" prop=\"sex\">\n                <el-select v-model=\"accountForm.sex\" placeholder=\"请选择性别\">\n                    <el-option label=\"男\" value=\"男\"></el-option>\n                    <el-option label=\"女\" value=\"女\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"生日\" required>\n                <el-col :span=\"11\">\n                    <el-form-item prop=\"date\">\n                        <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"accountForm.date\"\n                            style=\"width: 100%;\"></el-date-picker>\n                    </el-form-item>\n                </el-col>\n            </el-form-item>\n            <el-form-item label=\"电话\" prop=\"phone\">\n                <el-input v-model=\"accountForm.phone\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"邮箱\" prop=\"email\">\n                <el-input v-model=\"accountForm.email\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"地址\" prop=\"address\">\n                <el-input type=\"textarea\" v-model=\"accountForm.address\"></el-input>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" @click=\"submitForm('accountForm')\">立即创建</el-button>\n            </el-form-item>\n            <el-button type=\"primary\"><router-link to=\"/login\">登录</router-link></el-button>\n        </el-form>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n    name: 'TestComponent',\n    data() {\n        var validatePass = (rule, value, callback) => {\n            if (value === '') {\n                callback(new Error('请再次输入密码'));\n            } else if (value !== this.accountForm.password) {\n                callback(new Error('两次输入密码不一致!'));\n            } else {\n                callback();\n            }\n        };\n        return {\n            accountForm: {\n                id: '',\n                password: '',\n                check_password: '',\n                name: '',\n                sex: '',\n                date: '',\n                phone: '',\n                email: '',\n                address: ''\n            },\n            rules: {\n                id: [\n                    { required: true, message: '请输入用户名', trigger: 'blur' }\n                ],\n                password: [\n                    { required: true, message: '请输入密码', trigger: 'blur' }\n                ],\n                check_password: [\n                    { validator: validatePass, trigger: 'blur' }\n                ],\n                name: [\n                    { required: true, message: '请输入昵称', trigger: 'blur' }\n                ],\n                sex: [\n                    { required: true, message: '请选择性别', trigger: 'change' }\n                ],\n                date: [\n                    { type: 'date', required: true, message: '请选择生日日期', trigger: 'change' }\n                ],\n                phone: [\n                    { required: true, message: '请输入电话号码', trigger: 'blur' }\n                ],\n                email: [\n                    { required: true, message: '请输入邮箱', trigger: 'blur' }\n                ],\n                address: [\n                    { required: true, message: '请输入地址', trigger: 'blur' }\n                ],\n            }\n        };\n    },\n    methods: {\n        submitForm(formName) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    const form = {\n                        username: this.accountForm.id,\n                        password: this.accountForm.password,\n                        nickname: this.accountForm.name,\n                        gender: this.accountForm.sex,\n                        birthday: this.accountForm.date,\n                        phone: this.accountForm.phone,\n                        address: this.accountForm.address,\n                        email: this.accountForm.email\n                    };\n                    axios.post('http://localhost:7000/user/add', form)\n                        .then(response => {\n                            console.log(response.data);\n                            this.$message({\n                                message: '注册成功！',\n                                type: 'success'\n                            });\n                            this.$router.push('/login');\n                        })\n                        .catch(error => {\n                            console.error('注册失败:', error);\n                            this.$message.error('注册失败，请检查用户名和密码');\n                        });\n                } else {\n                    return false;\n                }\n            });\n        }\n    }\n}\n</script>\n\n<style></style>"],"mappings":";AAgDA,OAAAA,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA,IAAAC,YAAA,GAAAA,CAAAC,IAAA,EAAAC,KAAA,EAAAC,QAAA;MACA,IAAAD,KAAA;QACAC,QAAA,KAAAC,KAAA;MACA,WAAAF,KAAA,UAAAG,WAAA,CAAAC,QAAA;QACAH,QAAA,KAAAC,KAAA;MACA;QACAD,QAAA;MACA;IACA;IACA;MACAE,WAAA;QACAE,EAAA;QACAD,QAAA;QACAE,cAAA;QACAV,IAAA;QACAW,GAAA;QACAC,IAAA;QACAC,KAAA;QACAC,KAAA;QACAC,OAAA;MACA;MACAC,KAAA;QACAP,EAAA,GACA;UAAAQ,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAX,QAAA,GACA;UAAAS,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAT,cAAA,GACA;UAAAU,SAAA,EAAAlB,YAAA;UAAAiB,OAAA;QAAA,EACA;QACAnB,IAAA,GACA;UAAAiB,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAR,GAAA,GACA;UAAAM,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAP,IAAA,GACA;UAAAS,IAAA;UAAAJ,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAN,KAAA,GACA;UAAAI,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAL,KAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAJ,OAAA,GACA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAG,OAAA;IACAC,WAAAC,QAAA;MACA,KAAAC,KAAA,CAAAD,QAAA,EAAAE,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,MAAAC,IAAA;YACAC,QAAA,OAAAtB,WAAA,CAAAE,EAAA;YACAD,QAAA,OAAAD,WAAA,CAAAC,QAAA;YACAsB,QAAA,OAAAvB,WAAA,CAAAP,IAAA;YACA+B,MAAA,OAAAxB,WAAA,CAAAI,GAAA;YACAqB,QAAA,OAAAzB,WAAA,CAAAK,IAAA;YACAC,KAAA,OAAAN,WAAA,CAAAM,KAAA;YACAE,OAAA,OAAAR,WAAA,CAAAQ,OAAA;YACAD,KAAA,OAAAP,WAAA,CAAAO;UACA;UACAf,KAAA,CAAAkC,IAAA,mCAAAL,IAAA,EACAM,IAAA,CAAAC,QAAA;YACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAAlC,IAAA;YACA,KAAAqC,QAAA;cACApB,OAAA;cACAG,IAAA;YACA;YACA,KAAAkB,OAAA,CAAAC,IAAA;UACA,GACAC,KAAA,CAAAC,KAAA;YACAN,OAAA,CAAAM,KAAA,UAAAA,KAAA;YACA,KAAAJ,QAAA,CAAAI,KAAA;UACA;QACA;UACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}