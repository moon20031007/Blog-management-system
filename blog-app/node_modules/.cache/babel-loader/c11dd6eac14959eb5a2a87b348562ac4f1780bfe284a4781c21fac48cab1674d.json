{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'MyNavigation',\n  data() {\n    return {\n      isLoggedIn: true,\n      activeIndex: ''\n    };\n  },\n  computed: {\n    computedActiveIndex: function () {\n      const routes = {\n        '/': '1',\n        '/tag': '2',\n        '/log': '3',\n        '/lmessage': '4',\n        '/write': '5'\n      };\n      return routes[this.$route.path];\n    }\n  },\n  created() {\n    this.activeIndex = this.computedActiveIndex;\n    this.getCookie();\n  },\n  methods: {\n    getCookie() {\n      let cookieArr = document.cookie.split(\";\");\n      console.log(cookieArr);\n      for (let i = 0; i < cookieArr.length; i++) {\n        let cookiePair = cookieArr[i].split(\"=\");\n        let nameTrimmed = cookiePair[0].trim();\n        let value = cookiePair[1] ? cookiePair[1].trim() : \"\";\n        if (nameTrimmed === 'JSESSIONID') {\n          return value;\n        }\n      }\n      return null;\n    },\n    logOut() {\n      this.$http.get('/logout').then(response => {\n        console.log(response);\n        this.$message({\n          message: '退出成功！',\n          type: 'success'\n        });\n        this.$router.push('/');\n      }).catch(error => {\n        console.error('退出失败:', error);\n        this.$message.error('退出失败，请稍后再试');\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","isLoggedIn","activeIndex","computed","computedActiveIndex","routes","$route","path","created","getCookie","methods","cookieArr","document","cookie","split","console","log","i","length","cookiePair","nameTrimmed","trim","value","logOut","$http","get","then","response","$message","message","type","$router","push","catch","error"],"sources":["src/components/Navigation.vue"],"sourcesContent":["<template>\r\n    <el-container>\r\n        <el-header>\r\n            <el-menu :default-active=\"activeIndex\" class=\"el-menu-demo\" mode=\"horizontal\">\r\n                <el-menu-item index=\"1\" style=\"margin-left: 13%;\"><router-link to=\"/\"><el-link>首页</el-link></router-link></el-menu-item>\r\n                <el-menu-item index=\"2\"><router-link to=\"/tag\"><el-link>标签</el-link></router-link></el-menu-item>\r\n                <el-menu-item index=\"3\"><router-link to=\"/log\"><el-link>日志</el-link></router-link></el-menu-item>\r\n                <el-menu-item index=\"4\"><router-link to=\"/lmessage\"><el-link>留言板</el-link></router-link></el-menu-item>\r\n                <el-menu-item index=\"5\"><router-link to=\"/write\" @click.><el-link icon=\"el-icon-edit\">写文章</el-link></router-link></el-menu-item>\r\n                <div style=\"text-align: right; margin-top: 10px; margin-right: 20px;\">\r\n                    <template v-if=\"!isLoggedIn\">\r\n                        <router-link to=\"/login\" tag=\"span\"><el-link :underline=\"false\">登录</el-link></router-link>\r\n                        <router-link to=\"/signup\" tag=\"span\"><el-link :underline=\"false\" style=\"margin-left: 10px;\">注册</el-link></router-link>\r\n                    </template>\r\n                    <template v-else>\r\n                        <el-dropdown>\r\n                            <span class=\"el-dropdown-link\"><el-avatar icon=\"el-icon-user-solid\"></el-avatar></span>\r\n                            <el-dropdown-menu slot=\"dropdown\">\r\n                                <el-dropdown-item @click.native=\"logOut()\">退出登录</el-dropdown-item>\r\n                            </el-dropdown-menu>\r\n                        </el-dropdown>\r\n                    </template>\r\n                </div>\r\n            </el-menu>\r\n        </el-header>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'MyNavigation',\r\n    data() {\r\n        return {\r\n            isLoggedIn: true,\r\n            activeIndex: ''\r\n        };\r\n    },\r\n    computed: {\r\n        computedActiveIndex: function() {\r\n            const routes = {\r\n                '/': '1',\r\n                '/tag': '2',\r\n                '/log': '3',\r\n                '/lmessage': '4',\r\n                '/write': '5'\r\n            };\r\n            return routes[this.$route.path];\r\n        }\r\n    },\r\n    created() {\r\n        this.activeIndex = this.computedActiveIndex;\r\n        this.getCookie();\r\n    },\r\n    methods: {\r\n        getCookie() {\r\n            let cookieArr = document.cookie.split(\";\");\r\n            console.log(cookieArr);\r\n            for (let i = 0; i < cookieArr.length; i++) {\r\n                let cookiePair = cookieArr[i].split(\"=\");\r\n                let nameTrimmed = cookiePair[0].trim();\r\n                let value = cookiePair[1] ? cookiePair[1].trim() : \"\";\r\n                if (nameTrimmed === 'JSESSIONID') {\r\n                    return value;\r\n                }\r\n            }\r\n            return null;\r\n        },\r\n        logOut() {\r\n            this.$http.get('/logout')\r\n                .then(response => {\r\n                    console.log(response);\r\n                    this.$message({\r\n                        message: '退出成功！',\r\n                        type: 'success'\r\n                    });\r\n                    this.$router.push('/');\r\n                })\r\n                .catch(error => {\r\n                    console.error('退出失败:', error);\r\n                    this.$message.error('退出失败，请稍后再试');\r\n                })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style></style>"],"mappings":";AA6BA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,UAAA;MACAC,WAAA;IACA;EACA;EACAC,QAAA;IACAC,mBAAA,WAAAA,CAAA;MACA,MAAAC,MAAA;QACA;QACA;QACA;QACA;QACA;MACA;MACA,OAAAA,MAAA,MAAAC,MAAA,CAAAC,IAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAN,WAAA,QAAAE,mBAAA;IACA,KAAAK,SAAA;EACA;EACAC,OAAA;IACAD,UAAA;MACA,IAAAE,SAAA,GAAAC,QAAA,CAAAC,MAAA,CAAAC,KAAA;MACAC,OAAA,CAAAC,GAAA,CAAAL,SAAA;MACA,SAAAM,CAAA,MAAAA,CAAA,GAAAN,SAAA,CAAAO,MAAA,EAAAD,CAAA;QACA,IAAAE,UAAA,GAAAR,SAAA,CAAAM,CAAA,EAAAH,KAAA;QACA,IAAAM,WAAA,GAAAD,UAAA,IAAAE,IAAA;QACA,IAAAC,KAAA,GAAAH,UAAA,MAAAA,UAAA,IAAAE,IAAA;QACA,IAAAD,WAAA;UACA,OAAAE,KAAA;QACA;MACA;MACA;IACA;IACAC,OAAA;MACA,KAAAC,KAAA,CAAAC,GAAA,YACAC,IAAA,CAAAC,QAAA;QACAZ,OAAA,CAAAC,GAAA,CAAAW,QAAA;QACA,KAAAC,QAAA;UACAC,OAAA;UACAC,IAAA;QACA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAnB,OAAA,CAAAmB,KAAA,UAAAA,KAAA;QACA,KAAAN,QAAA,CAAAM,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}