{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      article: {},\n      tags: ['打工人', '求下班'],\n      comments: [{\n        commenter: 'Anson',\n        content: '快下班',\n        comment_time: '2024-8-9',\n        like_count: '10000'\n      }, {\n        commenter: 'Anson',\n        content: '快快下班',\n        comment_time: '2024-8-9',\n        like_count: '10000'\n      }, {\n        commenter: 'Anson',\n        content: '没事哒',\n        comment_time: '2024-8-9',\n        like_count: '10000'\n      }, {\n        commenter: 'Anson',\n        content: '好好好',\n        comment_time: '2024-8-9',\n        like_count: '10000'\n      }],\n      dialogFormVisible: false,\n      form: {\n        replies: []\n      },\n      activeNames: ['1']\n    };\n  },\n  async created() {\n    await this.fetchArticle();\n    await this.fetchTags();\n    await this.fetchReplies();\n  },\n  methods: {\n    handleChange(val) {\n      console.log(val);\n    },\n    async fetchArticle() {\n      axios.get(`http://localhost:7000/article/detail/${this.$route.params.id}`).then(response => {\n        this.article = response.data.data;\n      }).catch(error => {\n        console.error('获取文章失败:', error);\n        this.$message.error('获取文章失败');\n      });\n    },\n    async fetchTags() {\n      axios.get(`http://localhost:7000/article/detail/${this.$route.params.id}`).then(response => {\n        this.tags = response.data.data;\n        console.log('获取标签中');\n      }).catch(error => {\n        console.error('获取标签失败:', error);\n        this.$message.error('获取标签失败');\n      });\n    },\n    async fetchReplies() {\n      axios.get(`http://localhost:7000/tag/${this.$route.params.id}/articles`).then(response => {\n        this.Articles = response.data.data;\n      }).catch(error => {\n        console.error('获取回复失败:', error);\n        this.$message.error('获取标签失败');\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","data","article","tags","comments","commenter","content","comment_time","like_count","dialogFormVisible","form","replies","activeNames","created","fetchArticle","fetchTags","fetchReplies","methods","handleChange","val","console","log","get","$route","params","id","then","response","catch","error","$message","Articles"],"sources":["src/views/ArticleView.vue"],"sourcesContent":["<template>\n    <div>\n        <my-nav></my-nav>\n        <el-container>\n            <el-aside width=\"300px\"><my-asi-list></my-asi-list></el-aside>\n            <el-main>\n                <article>\n                    <h2>{{ article.title }}</h2>\n                    <el-card class=\"custom-card\">\n                        <div class=\"card-content\">\n                            <i class=\"el-icon-user-solid\"></i>{{ article.author }}\n                            <i class=\"el-icon-upload\"></i>{{ article.publishTime }}\n                            <i class=\"el-icon-view\"></i>{{ article.readCount }}\n                            <i class=\"el-icon-star-off\"></i>{{ article.likeCount }}\n                            <i class=\"el-icon-chat-line-round\"></i>{{ article.commentCount }}\n                        </div>\n                        <div>\n                            文章标签:\n                            <div v-for=\"tag in tags\" :key=\"tag\" class=\"tag\">\n                                {{ tag }}\n                            </div>\n                        </div>\n                    </el-card>\n                    <p>{{ article.content }}</p>\n                </article>\n                <el-card>\n                    <h3>评论区</h3>\n                    <div v-for=\"comment in comments\" :key=\"comment\">\n                        <i class=\"el-icon-user-solid\"></i>{{ comment.commenter }}<br>\n                        {{ comment.content }}<br>\n                        <small>{{ comment.comment_time }}</small>\n                        <svg id=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n                    <path d=\"M9.283433333333333 2.0303066666666663C9.095466666666667 2.0083933333333333 8.921333333333333 2.09014 8.828166666666666 2.1991199999999997C8.424633333333333 2.6711333333333336 8.332133333333333 3.3649466666666665 8.029333333333334 3.9012466666666663C7.630633333333333 4.607453333333333 7.258833333333333 5.034486666666666 6.800866666666666 5.436006666666666C6.42382 5.7665733333333336 6.042199999999999 5.987959999999999 5.666666666666666 6.09112L5.666666666666666 13.1497C6.19062 13.1611 6.751966666666666 13.168333333333333 7.333333333333333 13.168333333333333C8.831233333333333 13.168333333333333 10.1019 13.120766666666665 10.958166666666665 13.076699999999999C11.565133333333332 13.045433333333332 12.091966666666666 12.7451 12.366466666666668 12.256733333333333C12.7516 11.571599999999998 13.2264 10.5669 13.514166666666664 9.3835C13.7823 8.2808 13.904599999999999 7.374333333333333 13.959466666666666 6.734999999999999C13.984933333333332 6.438646666666667 13.750433333333334 6.166686666666667 13.386666666666665 6.166686666666667L10.065133333333332 6.166686666666667C9.898433333333333 6.166686666666667 9.742666666666667 6.08362 9.649833333333333 5.945166666666666C9.536066666666667 5.775493333333333 9.560033333333333 5.5828533333333334 9.6312 5.403346666666666C9.783966666666666 5.013846666666666 9.983933333333333 4.432846666666666 10.062766666666667 3.90454C10.1406 3.3830066666666667 10.121599999999999 2.9639466666666667 9.917133333333332 2.57626C9.697399999999998 2.1596933333333332 9.448266666666665 2.0495266666666665 9.283433333333333 2.0303066666666663zM10.773433333333333 5.166686666666666L13.386666666666665 5.166686666666666C14.269133333333333 5.166686666666666 15.036999999999999 5.875273333333333 14.9558 6.8206C14.897 7.505533333333333 14.767199999999999 8.462733333333333 14.485833333333334 9.6198C14.170333333333334 10.917200000000001 13.6532 12.008466666666665 13.238166666666666 12.746766666666666C12.7729 13.574433333333333 11.910266666666667 14.029 11.009566666666666 14.075366666666667C10.14 14.120166666666666 8.851766666666666 14.168333333333333 7.333333333333333 14.168333333333333C5.862206666666666 14.168333333333333 4.51776 14.1231 3.565173333333333 14.079633333333334C2.4932333333333334 14.030733333333332 1.5939999999999999 13.234466666666666 1.4786599999999999 12.143466666666665C1.4028 11.426066666666665 1.3333333333333333 10.4978 1.3333333333333333 9.501666666666665C1.3333333333333333 8.588966666666666 1.3916466666666667 7.761233333333333 1.4598999999999998 7.104466666666667C1.5791666666666666 5.95696 2.5641 5.166686666666666 3.671693333333333 5.166686666666666L5.166666666666666 5.166686666666666C5.3793066666666665 5.166686666666666 5.709213333333333 5.063186666666667 6.141613333333333 4.68408C6.516733333333333 4.355193333333333 6.816366666666667 4.015666666666666 7.158533333333333 3.409613333333333C7.5023 2.8007333333333335 7.6041 2.0920066666666663 8.068066666666667 1.54932C8.372133333333332 1.1936466666666665 8.8718 0.9755333333333334 9.399233333333333 1.03704C9.949866666666665 1.10124 10.457733333333334 1.4577866666666666 10.801633333333331 2.109713333333333C11.148866666666665 2.767993333333333 11.143799999999999 3.4356599999999995 11.051833333333335 4.0520933333333335C10.993899999999998 4.44022 10.875366666666666 4.852359999999999 10.773433333333333 5.166686666666666zM4.666666666666666 13.122166666666667L4.666666666666666 6.166686666666667L3.671693333333333 6.166686666666667C3.029613333333333 6.166686666666667 2.5161533333333335 6.615046666666666 2.4545466666666664 7.207833333333333C2.3890599999999997 7.837933333333333 2.333333333333333 8.630433333333333 2.333333333333333 9.501666666666665C2.333333333333333 10.453433333333333 2.399833333333333 11.345266666666667 2.473113333333333 12.038333333333334C2.533993333333333 12.614133333333331 3.0083466666666667 13.053199999999999 3.6107466666666665 13.0807C3.9228066666666668 13.094899999999999 4.278173333333333 13.109333333333334 4.666666666666666 13.122166666666667z\" fill=\"currentColor\"></path>\n                </svg>\n                        <i class=\"el-icon-star-off\"></i>{{ comment.like_count }}\n                        <el-button type=\"text\" @click=\"dialogFormVisible = true\"><i\n                                class=\"el-icon-chat-line-square\">回复</i></el-button>\n                        <el-collapse v-model=\"activeNames\" @change=\"handleChange\">\n                            <el-collapse-item title=\"展开回复\" name=\"1\">\n                                <div v-for=\"reply in replies\" :key=\"reply\">\n\n                                </div>\n                            </el-collapse-item>\n                        </el-collapse>\n                        <el-dialog :visible.sync=\"dialogFormVisible\">\n                            <el-form :model=\"form\">\n                                <el-form-item label=\"回复\">\n                                    <el-input v-model=\"form.reply\" autocomplete=\"off\"></el-input>\n                                </el-form-item>\n                            </el-form>\n                            <div slot=\"footer\" class=\"dialog-footer\">\n                                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n                                <el-button type=\"primary\" @click=\"dialogFormVisible = false\">确 定</el-button>\n                            </div>\n                        </el-dialog>\n                    </div>\n                </el-card>\n            </el-main>\n        </el-container>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n    data() {\n        return {\n            article: {},\n            tags: ['打工人', '求下班'],\n            comments: [\n                { commenter: 'Anson', content: '快下班', comment_time: '2024-8-9', like_count: '10000' },\n                { commenter: 'Anson', content: '快快下班', comment_time: '2024-8-9', like_count: '10000' },\n                { commenter: 'Anson', content: '没事哒', comment_time: '2024-8-9', like_count: '10000' },\n                { commenter: 'Anson', content: '好好好', comment_time: '2024-8-9', like_count: '10000' },\n            ],\n            dialogFormVisible: false,\n            form: {\n                replies: []\n            },\n            activeNames: ['1']\n        };\n    },\n    async created() {\n        await this.fetchArticle();\n        await this.fetchTags();\n        await this.fetchReplies();\n    },\n    methods: {\n        handleChange(val) {\n            console.log(val);\n        },\n        async fetchArticle() {\n            axios.get(`http://localhost:7000/article/detail/${this.$route.params.id}`)\n                .then(response => {\n                    this.article = response.data.data;\n                })\n                .catch(error => {\n                    console.error('获取文章失败:', error);\n                    this.$message.error('获取文章失败');\n                });\n        },\n        async fetchTags() {\n            axios.get(`http://localhost:7000/article/detail/${this.$route.params.id}`)\n                .then(response => {\n                    this.tags = response.data.data;\n                    console.log('获取标签中');\n                })\n                .catch(error => {\n                    console.error('获取标签失败:', error);\n                    this.$message.error('获取标签失败');\n                });\n        },\n        async fetchReplies() {\n            axios.get(`http://localhost:7000/tag/${this.$route.params.id}/articles`)\n                .then(response => {\n                    this.Articles = response.data.data;\n                })\n                .catch(error => {\n                    console.error('获取回复失败:', error);\n                    this.$message.error('获取标签失败');\n                });\n        },\n    }\n}\n</script>\n\n<style>\n.custom-card {\n    padding: 0px;\n}\n\n.card-content {\n    margin-bottom: 10px;\n}\n\n.tag {\n    display: inline;\n    margin-right: 5px;\n}\n</style>"],"mappings":"AA+DA,OAAAA,KAAA;AAEA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,IAAA;MACAC,QAAA,GACA;QAAAC,SAAA;QAAAC,OAAA;QAAAC,YAAA;QAAAC,UAAA;MAAA,GACA;QAAAH,SAAA;QAAAC,OAAA;QAAAC,YAAA;QAAAC,UAAA;MAAA,GACA;QAAAH,SAAA;QAAAC,OAAA;QAAAC,YAAA;QAAAC,UAAA;MAAA,GACA;QAAAH,SAAA;QAAAC,OAAA;QAAAC,YAAA;QAAAC,UAAA;MAAA,EACA;MACAC,iBAAA;MACAC,IAAA;QACAC,OAAA;MACA;MACAC,WAAA;IACA;EACA;EACA,MAAAC,QAAA;IACA,WAAAC,YAAA;IACA,WAAAC,SAAA;IACA,WAAAC,YAAA;EACA;EACAC,OAAA;IACAC,aAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;IACA;IACA,MAAAL,aAAA;MACAd,KAAA,CAAAsB,GAAA,8CAAAC,MAAA,CAAAC,MAAA,CAAAC,EAAA,IACAC,IAAA,CAAAC,QAAA;QACA,KAAAzB,OAAA,GAAAyB,QAAA,CAAA1B,IAAA,CAAAA,IAAA;MACA,GACA2B,KAAA,CAAAC,KAAA;QACAT,OAAA,CAAAS,KAAA,YAAAA,KAAA;QACA,KAAAC,QAAA,CAAAD,KAAA;MACA;IACA;IACA,MAAAd,UAAA;MACAf,KAAA,CAAAsB,GAAA,8CAAAC,MAAA,CAAAC,MAAA,CAAAC,EAAA,IACAC,IAAA,CAAAC,QAAA;QACA,KAAAxB,IAAA,GAAAwB,QAAA,CAAA1B,IAAA,CAAAA,IAAA;QACAmB,OAAA,CAAAC,GAAA;MACA,GACAO,KAAA,CAAAC,KAAA;QACAT,OAAA,CAAAS,KAAA,YAAAA,KAAA;QACA,KAAAC,QAAA,CAAAD,KAAA;MACA;IACA;IACA,MAAAb,aAAA;MACAhB,KAAA,CAAAsB,GAAA,mCAAAC,MAAA,CAAAC,MAAA,CAAAC,EAAA,aACAC,IAAA,CAAAC,QAAA;QACA,KAAAI,QAAA,GAAAJ,QAAA,CAAA1B,IAAA,CAAAA,IAAA;MACA,GACA2B,KAAA,CAAAC,KAAA;QACAT,OAAA,CAAAS,KAAA,YAAAA,KAAA;QACA,KAAAC,QAAA,CAAAD,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}