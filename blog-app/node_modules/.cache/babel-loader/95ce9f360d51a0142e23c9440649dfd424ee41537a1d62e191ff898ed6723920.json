{"ast":null,"code":"const cityOptions = ['上海', '北京', '广州', '深圳'];\nimport axios from 'axios';\nexport default {\n  name: \"MyArticleWriteEditor\",\n  data() {\n    var valiteArea = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('留言不能为空'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      messageForm: {\n        textarea: '',\n        title: ''\n      },\n      rules: {\n        textarea: [{\n          validator: valiteArea,\n          trigger: 'blur'\n        }]\n      },\n      cities: cityOptions\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        const form = {\n          Title: this.messageForm.title,\n          Text: this.messageForm.textarea\n        };\n        if (valid) {\n          console.log('提交的留言内容:', this.ruleForm.textarea);\n          axios.post('/lmessage', form).then(response => {\n            console.log(response.data);\n            this.$message({\n              message: '留言提交成功！',\n              type: 'success'\n            });\n          }).catch(error => {\n            console.error('留言提交失败:', error);\n            this.$message.error('登录失败，请检查登陆状态');\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n};","map":{"version":3,"names":["cityOptions","axios","name","data","valiteArea","rule","value","callback","Error","messageForm","textarea","title","rules","validator","trigger","cities","methods","submitForm","formName","$refs","validate","valid","form","Title","Text","console","log","ruleForm","post","then","response","$message","message","type","catch","error","resetForm","resetFields"],"sources":["src/components/ArticleWriteEditor.vue"],"sourcesContent":["<template>\n    <div class=\"write-card\">\n      <el-form :model=\"messageForm\" status-icon :rules=\"rules\" ref=\"messageForm\" class=\"demo-ruleForm\">\n\n        <el-form-item prop=\"title\" class=\"input\">\n            <el-input class=\"title\"\n              type=\"text\"\n              placeholder=\"标题\"\n              v-model=\"messageForm.title\"\n              maxlength=\"15\"\n            >\n            </el-input>\n        </el-form-item> \n\n        <el-form-item class=\"form-buttons\" prop=\"tag\" >\n          <el-checkbox-group \n            v-model=\"checkedCities\"\n            :min=\"1\"\n            :max=\"2\">\n            <el-checkbox v-for=\"city in cities\" :label=\"city\" :key=\"city\">{{city}}</el-checkbox>\n          </el-checkbox-group>\n        </el-form-item> \n\n        <el-form-item prop=\"textarea\" class=\"writeinput\"> \n            <el-input\n              type=\"textarea\"\n              placeholder=\"请输入你的文章\"\n              :rows=\"28\"\n              v-model=\"messageForm.textarea\"\n              maxlength=\"2000\"\n              show-word-limit\n            >\n            </el-input>\n        </el-form-item> \n\n        <el-form-item class=\"form-buttons\">\n                  <el-button type=\"primary\" @click=\"submitForm('messageForm') \" size='small'>提交</el-button>\n                  <el-button @click=\"resetForm('messageForm')\" size='small' >重置</el-button>\n        </el-form-item>\n      </el-form>\n      </div>\n  </template>\n  \n  \n  <script>\n  const cityOptions = ['上海', '北京', '广州', '深圳'];\n  import axios from 'axios';\n\n  export default {\n    name:\"MyArticleWriteEditor\",\n    data() {\n      var valiteArea = (rule, value, callback) => {\n              if (value === '') {\n                  callback(new Error('留言不能为空'));\n              } else {\n                  callback();\n              }\n          };\n          return{\n              messageForm: {\n                  textarea: '',\n                  title:''\n                  \n              },\n              rules: {\n                  textarea: [\n                      { validator: valiteArea, trigger: 'blur' }\n                  ]\n              },\n              cities: cityOptions\n          };\n    },\n    methods: {\n          submitForm(formName) {\n              this.$refs[formName].validate((valid) => {\n                  const form = { Title: this.messageForm.title,Text:this.messageForm.textarea};\n                  if (valid) {\n                      console.log('提交的留言内容:', this.ruleForm.textarea);\n                      axios.post('/lmessage', form)\n                          .then(response => {\n                              console.log(response.data);\n                              this.$message({\n                                  message: '留言提交成功！',\n                                  type: 'success'\n                              });\n                          })\n                          .catch(error => {\n                              console.error('留言提交失败:', error);\n                              this.$message.error('登录失败，请检查登陆状态',);\n                          });\n                  } else {\n                      return false;\n                  }\n              });\n          },\n          resetForm(formName) {\n              this.$refs[formName].resetFields();\n          }\n      }\n    \n  }\n  </script>\n  \n  <style>\n\n  .writeinput {\n      margin-bottom: 0.5rem;\n      margin-top: 1.5rem;\n      width: 50rem; \n  }\n  .title{\n    font-size: 25px;\n    font-weight: bold;\n  }\n  .el-checkbox-group {\n  display: flex;\n  flex-direction: column; /* 垂直排列 */\n  }   \n  \n  .form-buttons {\n    display: flex;\n    justify-content: flex-end;\n  }\n  \n  \n  </style>"],"mappings":"AA6CA,MAAAA,WAAA;AACA,OAAAC,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA,IAAAC,UAAA,GAAAA,CAAAC,IAAA,EAAAC,KAAA,EAAAC,QAAA;MACA,IAAAD,KAAA;QACAC,QAAA,KAAAC,KAAA;MACA;QACAD,QAAA;MACA;IACA;IACA;MACAE,WAAA;QACAC,QAAA;QACAC,KAAA;MAEA;MACAC,KAAA;QACAF,QAAA,GACA;UAAAG,SAAA,EAAAT,UAAA;UAAAU,OAAA;QAAA;MAEA;MACAC,MAAA,EAAAf;IACA;EACA;EACAgB,OAAA;IACAC,WAAAC,QAAA;MACA,KAAAC,KAAA,CAAAD,QAAA,EAAAE,QAAA,CAAAC,KAAA;QACA,MAAAC,IAAA;UAAAC,KAAA,OAAAd,WAAA,CAAAE,KAAA;UAAAa,IAAA,OAAAf,WAAA,CAAAC;QAAA;QACA,IAAAW,KAAA;UACAI,OAAA,CAAAC,GAAA,kBAAAC,QAAA,CAAAjB,QAAA;UACAT,KAAA,CAAA2B,IAAA,cAAAN,IAAA,EACAO,IAAA,CAAAC,QAAA;YACAL,OAAA,CAAAC,GAAA,CAAAI,QAAA,CAAA3B,IAAA;YACA,KAAA4B,QAAA;cACAC,OAAA;cACAC,IAAA;YACA;UACA,GACAC,KAAA,CAAAC,KAAA;YACAV,OAAA,CAAAU,KAAA,YAAAA,KAAA;YACA,KAAAJ,QAAA,CAAAI,KAAA;UACA;QACA;UACA;QACA;MACA;IACA;IACAC,UAAAlB,QAAA;MACA,KAAAC,KAAA,CAAAD,QAAA,EAAAmB,WAAA;IACA;EACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}